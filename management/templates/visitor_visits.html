{% extends "base.html" %}

{% block mcd_wide_content %}
<div class="main_center_div_wide">
    {% load widget_tweaks %}
    {% load static %}

    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="{% static 'css/visits_list.css' %}"/>
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="{% static 'fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="{% static 'vendor/animate/animate.css' %}">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="{% static 'vendor/select2/select2.min.css' %}">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="{% static 'vendor/perfect-scrollbar/perfect-scrollbar.css' %}">
    <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="{% static 'css/util.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
    <!--===============================================================================================-->

    <h2>{{visits_header}}</h2>


    <div class="three-button-group">

        <a class="three-button" href="{% url 'management:visitor_visits_list' %}?visit_type=past">Past</a>
        <a class="three-button" href="{% url 'management:visitor_visits_list' %}?visit_type=ongoing">Ongoing</a>
        <a class="three-button" href="{% url 'management:visitor_visits_list' %}?visit_type=planned">Planned</a>

    </div>

    {% if all_visits %}
	<div class="limiter">
        <table class="table">

            <thead>
                <tr class="table-header table100-head">
                    <th class="column1">Visit Id</th>
                    <th class="column2">Host</th>
                    <th class="column3">Check-In Time</th>
                    <th class="column4">Check-Out Time</th>
                    <th class="column5">Purpose</th>
                </tr>
            </thead>
            <tbody>

                {% for visit in all_visits %}
                    <tr class="table-row">
                        <td class="column1"> {{visit.id}} </td>
                        <td class="column2"> {{visit.host}} </td>
                        <td class="column3"> {{visit.in_time}} </td>
                        <td class="column4">
                            {% if visit.out_time %}
                                {{visit.out_time}}
                            {% else %}
                                -
                            {% endif %}
                        </td>
                        <td class="column5">
                            {% if visit.purpose %}
                                {{visit.purpose}}
                            {% else %}
                                -
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}

            </tbody>
        </table>
	</div>

    <!--===============================================================================================-->
        <script src="{% static 'vendor/jquery/jquery-3.2.1.min.js' %}"></script>
    <!--===============================================================================================-->
        <script src="{% static 'vendor/bootstrap/js/popper.js' %}"></script>
        <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
    <!--===============================================================================================-->
        <script src="{% static 'vendor/select2/select2.min.js' %}"></script>
    <!--===============================================================================================-->
	<script src="{% static 'js/main.js' %}"></script>

    {% else %}
    <div class="no-data-div">
        No {{visits_header}}
    </div>
    {% endif %}
</div>
{% endblock %}